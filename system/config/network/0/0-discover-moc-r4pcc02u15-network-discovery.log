INFO: No SSH session found. Selected slowest active interface 'ovn-k8s-mp0' (10.128.2.2) with speed 0 Mbps.
  - Warning: Could not get GIDs for mlx5_3. Command failed: Command '['ibv_devinfo', '-d', 'mlx5_3', '-v']' returned non-zero exit status 255.
  - Warning: Could not get GIDs for mlx5_2. Command failed: Command '['ibv_devinfo', '-d', 'mlx5_2', '-v']' returned non-zero exit status 255.
  - Warning: Could not get GIDs for mlx5_5. Command failed: Command '['ibv_devinfo', '-d', 'mlx5_5', '-v']' returned non-zero exit status 255.
  - Warning: Could not get GIDs for mlx5_4. Command failed: Command '['ibv_devinfo', '-d', 'mlx5_4', '-v']' returned non-zero exit status 255.
--- Starting Control NIC Discovery ---
--- Starting GPU-NIC Mapping  ---

[Step 1] Discovered 4 GPU(s) and 27 NIC(s) from known vendors.

[Step 2] Gathering details for all discovered NICs...
  ... Found the following active NICs:
  + 0000:03:00.0 | Iface: eno5np0  | HCA: mlx5_3   | Speed: 400000 Mbps | IPv4: 192.168.100.90
  + 0000:c3:00.0 | Iface: eno8np0  | HCA: mlx5_4   | Speed: 400000 Mbps | IPv4: 192.168.103.90
  + 0000:42:00.0 | Iface: eno2np0  | HCA: mlx5_0   | Speed: 25000 Mbps | IPv4: None
  + 0000:a3:00.0 | Iface: eno7np0  | HCA: mlx5_5   | Speed: 400000 Mbps | IPv4: 192.168.102.90
  + 0000:23:00.0 | Iface: eno6np0  | HCA: mlx5_2   | Speed: 400000 Mbps | IPv4: 192.168.101.90

[Step 3] Filtering for fastest NICs. Max speed found: 400000 Mbps.
         Found 4 NIC(s) operating at this speed.

[Step 4] Assigning GPU IDs based on sorted PCI Bus Address (standard enumeration):
  - GPU 0 -> 0000:06:00.0
  - GPU 1 -> 0000:26:00.0
  - GPU 2 -> 0000:a6:00.0
  - GPU 3 -> 0000:c6:00.0

[Step 5] Calculating PCIe distance from each GPU to each of the fastest NICs...

  Distances for GPU 0 (0000:06:00.0):
    - To NIC 0000:03:00.0 (mlx5_3): 6 hops
    - To NIC 0000:c3:00.0 (mlx5_4): 12 hops
    - To NIC 0000:a3:00.0 (mlx5_5): 12 hops
    - To NIC 0000:23:00.0 (mlx5_2): 12 hops
  ==> Closest NIC for GPU 0 is mlx5_3 (0000:03:00.0)

  Distances for GPU 1 (0000:26:00.0):
    - To NIC 0000:23:00.0 (mlx5_2): 6 hops
    - To NIC 0000:03:00.0 (mlx5_3): 12 hops
    - To NIC 0000:c3:00.0 (mlx5_4): 12 hops
    - To NIC 0000:a3:00.0 (mlx5_5): 12 hops
  ==> Closest NIC for GPU 1 is mlx5_2 (0000:23:00.0)

  Distances for GPU 2 (0000:a6:00.0):
    - To NIC 0000:a3:00.0 (mlx5_5): 6 hops
    - To NIC 0000:03:00.0 (mlx5_3): 12 hops
    - To NIC 0000:c3:00.0 (mlx5_4): 12 hops
    - To NIC 0000:23:00.0 (mlx5_2): 12 hops
  ==> Closest NIC for GPU 2 is mlx5_5 (0000:a3:00.0)

  Distances for GPU 3 (0000:c6:00.0):
    - To NIC 0000:c3:00.0 (mlx5_4): 6 hops
    - To NIC 0000:03:00.0 (mlx5_3): 12 hops
    - To NIC 0000:a3:00.0 (mlx5_5): 12 hops
    - To NIC 0000:23:00.0 (mlx5_2): 12 hops
  ==> Closest NIC for GPU 3 is mlx5_4 (0000:c3:00.0)

--- Mapping Complete ---
